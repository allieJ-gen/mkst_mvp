# 개발 체크리스트 - 김엄마관리형독서실 학생회원관리 시스템 MVP

## 🎯 프로젝트 개요
- **목표**: 내부 관리자용 학생회원관리 시스템 MVP 구축
- **기술스택**: Django + Vue.js + PostgreSQL + Redis
- **우선순위**: 학생정보관리 기능에 집중

---

## 📋 Phase 1: 프로젝트 기반 구축

### 1.1 개발 환경 설정
- [x] **Python 환경 설정**
  - [x] Python 3.11+ 설치 확인
  - [x] 가상환경 생성 (venv 또는 conda)
  - [x] requirements.txt 생성

- [x] **Django 프로젝트 초기화**
  - [x] Django 5.0+ 설치
  - [x] 프로젝트 생성: `mkst_management`
  - [x] Django REST Framework 설치
  - [x] Django Channels 설치 (WebSocket용)
  - [x] 기본 설정 파일 구성

- [x] **Vue.js 프론트엔드 설정**
  - [x] Node.js 18+ 설치 확인
  - [x] Nuxt.js 3 프로젝트 생성
  - [x] UI 라이브러리 선택 및 설치 (@nuxt/ui, Pinia)
  - [x] Axios 설치

- [x] **데이터베이스 설정**
  - [x] PostgreSQL 15+ 설치
  - [x] 데이터베이스 생성: `mkst_db`
  - [x] Django DB 연결 설정
  - [x] Redis 설치 및 연결 설정 (설정만 완료)

### 1.2 프로젝트 구조 설계
- [x] **백엔드 구조**
  ```
  mkst_management/
  ├── config/           # Django 설정
  ├── apps/
  │   ├── students/     # 학생 관리 앱
  │   ├── lockers/      # 사물함 관리 앱
  │   ├── accounts/     # 사용자 관리 앱
  │   └── dashboard/    # 대시보드 앱
  ├── static/
  ├── media/
  └── requirements.txt
  ```

- [x] **프론트엔드 구조**
  ```
  frontend/
  ├── pages/            # 페이지 컴포넌트
  ├── components/       # 재사용 컴포넌트
  ├── layouts/          # 레이아웃
  ├── plugins/          # 플러그인
  ├── middleware/       # 미들웨어
  └── stores/           # Pinia 스토어
  ```

---

## 📊 Phase 2: 데이터베이스 모델 설계

### 2.1 학생 모델 (Student Model)
- [x] **필수 필드 정의**
  - [x] `id`: Primary Key (Django AutoField)
  - [x] `attendance_number`: 등원번호 (CharField, unique=True, max_length=5)
  - [x] `name`: 학생명 (CharField, max_length=50)
  - [x] `school`: 학교명 (CharField, max_length=100)
  - [x] `grade`: 학년 (IntegerField, choices=[(0,'비고등학생'),(1,'1학년'),(2,'2학년'),(3,'3학년')])
  - [x] `gender`: 성별 (CharField, choices=[('M','남'),('F','여')])
  - [x] `locker_number`: 사물함번호 (IntegerField, null=True, blank=True)
  - [x] `first_attendance_date`: 첫등원일 (DateField)
  - [x] `status`: 구분 (CharField, choices=[('ACTIVE','재원생'),('WITHDRAWN','퇴원생'),('GRADUATED','졸업생'),('EXPELLED','강퇴생')])
  - [x] `withdrawal_date`: 퇴원일 (DateField, null=True, blank=True)
  - [x] `student_phone`: 학생휴대폰번호 (CharField, null=True, blank=True)
  - [x] `parent_phone`: 보호자휴대폰번호 (CharField, max_length=15)

- [x] **추가 필드 정의**
  - [x] `created_at`: 생성일시 (DateTimeField, auto_now_add=True)
  - [x] `updated_at`: 수정일시 (DateTimeField, auto_now=True)
  - [x] `created_by`: 생성자 (ForeignKey to User)
  - [x] `updated_by`: 수정자 (ForeignKey to User)

- [x] **모델 메서드 구현**
  - [x] `__str__()`: 학생명 + 등원번호 표시
  - [x] `generate_attendance_number()`: 등원번호 자동 생성
  - [x] `assign_locker()`: 사물함 자동 배정
  - [x] `release_locker()`: 사물함 해제
  - [x] `auto_grade_update()`: 학년 자동 업데이트

### 2.2 사물함 모델 (Locker Model)
- [x] **필드 정의**
  - [x] `number`: 사물함번호 (IntegerField, primary_key=True, range=1-271)
  - [x] `is_occupied`: 사용중 여부 (BooleanField, default=False)
  - [x] `student`: 사용 학생 (OneToOneField to Student, null=True, blank=True)
  - [x] `assigned_date`: 배정일 (DateTimeField, null=True, blank=True)
  - [x] `released_date`: 해제일 (DateTimeField, null=True, blank=True)
  - [x] LockerHistory 모델 추가 (사물함 이력 추적)

### 2.3 사용자 모델 (User Model)
- [x] **Django User 확장**
  - [x] UserProfile 모델로 확장
  - [x] `role`: 역할 (CharField, choices=[('ADMIN','관리자'),('STAFF','직원'),('MANAGER','매니저')])
  - [x] `is_active_staff`: 활성화 여부
  - [x] ActivityLog 모델 추가 (사용자 활동 로깅)
  - [x] JWT 토큰 설정

### 2.4 대시보드 모델 (Dashboard Models)
- [x] **DashboardStats 모델**
  - [x] 통계 데이터 캐시 시스템
  - [x] 일별/주별/월별 통계 생성
  - [x] 학생/사물함 통계 자동 계산

- [x] **SystemSettings 모델**
  - [x] 시스템 설정값 관리
  - [x] 설정 유형별 분류

- [x] **Announcement 모델**
  - [x] 공지사항 관리
  - [x] 우선순위 및 표시 기간 설정

---

## 🚀 Phase 3: 백엔드 API 개발

### 3.1 학생 관리 API
- [x] **학생 CRUD API**
  - [x] `POST /api/students/`: 학생 등록
  - [x] `GET /api/students/`: 학생 목록 조회 (필터링/정렬/페이징)
  - [x] `GET /api/students/{id}/`: 학생 상세 조회
  - [x] `PUT /api/students/{id}/`: 학생 정보 수정
  - [x] `DELETE /api/students/{id}/`: 학생 삭제 (소프트 삭제)

- [x] **검색 및 필터링 API**
  - [x] 등원번호로 검색
  - [x] 학생명으로 검색 (부분 일치)
  - [x] 학교명으로 필터링
  - [x] 학년으로 필터링
  - [x] 성별로 필터링
  - [x] 상태로 필터링 (재원생 우선)
  - [x] 사물함번호로 검색

- [x] **등원번호 생성 API**
  - [x] `POST /api/students/generate-attendance-number/`
  - [x] 보호자 휴대폰번호 입력받아 등원번호 생성
  - [x] 중복 체크 및 핀번호 자동 증가

### 3.2 사물함 관리 API
- [x] **사물함 CRUD API**
  - [x] `POST /api/students/{id}/assign-locker/`: 사물함 배정
  - [x] `POST /api/students/{id}/release-locker/`: 사물함 해제
  - [x] 사물함 현황 통계 조회 (statistics API 포함)
  - [x] 사용 가능한 사물함 자동 배정 로직

### 3.3 대시보드 API
- [x] **통계 API**
  - [x] `GET /api/students/statistics/`: 전체 현황 요약
    - [x] 현재 재원생 수
    - [x] 사물함 이용률
    - [x] 학년별 분포
    - [x] 성별 분포
    - [x] 상태별 통계 (재원생/퇴원생/졸업생/강퇴생)
  - [x] `GET /api/students/active-students/`: 재원생만 조회

### 3.4 인증 및 권한 API
- [x] **JWT 인증**
  - [x] `POST /api/auth/token/`: JWT 토큰 획득 (로그인)
  - [x] `POST /api/auth/token/refresh/`: 토큰 갱신
  - [x] 권한 기반 접근 제어 (IsAuthenticated)
  - [x] 모든 API 엔드포인트 JWT 보호

### 3.5 API 문서화
- [x] **자동 API 문서 생성**
  - [x] `GET /api/docs/`: Swagger UI 문서
  - [x] `GET /api/redoc/`: ReDoc 문서
  - [x] `GET /api/schema/`: OpenAPI 스키마
  - [x] 모든 API 엔드포인트 문서화 완료

### 3.6 데이터 검증 및 직렬화
- [x] **Serializer 구현**
  - [x] StudentSerializer (전체 정보)
  - [x] StudentCreateSerializer (생성용)
  - [x] StudentListSerializer (목록용)
  - [x] AttendanceNumberGenerateSerializer (등원번호 생성용)
  - [x] 휴대폰번호 형식 검증
  - [x] 비즈니스 로직 검증 (퇴원일 필수 등)

### 3.7 ViewSet 및 커스텀 액션
- [x] **StudentViewSet 완성**
  - [x] ModelViewSet 기반 CRUD 구현
  - [x] 필터링, 검색, 정렬 기능
  - [x] 페이지네이션 적용
  - [x] 커스텀 액션 구현:
    - [x] generate_attendance_number
    - [x] active_students
    - [x] statistics
    - [x] assign_locker
    - [x] release_locker

---

## 🎨 Phase 4: 프론트엔드 개발

### 4.1 레이아웃 및 네비게이션
- [ ] **기본 레이아웃**
  - [ ] 사이드바 네비게이션
  - [ ] 헤더 (사용자 정보, 로그아웃)
  - [ ] 메인 컨텐츠 영역
  - [ ] 반응형 디자인

- [ ] **네비게이션 메뉴**
  - [ ] 대시보드
  - [ ] 학생 관리 (등록/조회/수정)
  - [ ] 사물함 관리
  - [ ] 설정

### 4.2 학생 관리 화면
- [ ] **학생 등록 페이지**
  - [ ] 필수 필드 입력 폼
  - [ ] 등원번호 자동 생성 버튼
  - [ ] 입력 검증 (휴대폰번호 형식 등)
  - [ ] 사물함 자동 배정
  - [ ] 등록 완료 메시지

- [ ] **학생 목록/검색 페이지**
  - [ ] 검색 조건 입력 (등원번호, 이름, 학교 등)
  - [ ] 필터링 옵션 (학년, 성별, 상태)
  - [ ] 재원생 우선 표시
  - [ ] 페이지네이션 (50명/페이지)
  - [ ] 엑셀 내보내기 버튼

- [ ] **학생 상세/수정 페이지**
  - [ ] 모든 정보 표시
  - [ ] 수정 가능한 필드
  - [ ] 사물함 변경 기능
  - [ ] 수정 이력 표시

### 4.3 사물함 관리 화면
- [ ] **사물함 현황 페이지**
  - [ ] 1~271번 사물함 그리드 표시
  - [ ] 사용중/빈 사물함 색상 구분
  - [ ] 사물함 클릭 시 사용자 정보 표시
  - [ ] 사물함 배정/해제 기능

### 4.4 대시보드 화면
- [ ] **현황 요약 카드**
  - [ ] 현재 재원생 수
  - [ ] 사물함 이용률
  - [ ] 오늘 등록자 수

- [ ] **차트 및 그래프**
  - [ ] 학년별 분포 (파이 차트)
  - [ ] 성별 분포 (바 차트)
  - [ ] 월별 등록/퇴원 추이 (라인 차트)

### 4.5 공통 컴포넌트
- [ ] **재사용 컴포넌트**
  - [ ] 검색 입력 컴포넌트
  - [ ] 페이지네이션 컴포넌트
  - [ ] 모달 컴포넌트
  - [ ] 로딩 컴포넌트
  - [ ] 알림 메시지 컴포넌트

---

## 📋 Phase 4.5: Django Admin 및 초기 데이터 설정

### 4.5.1 Django Admin 설정
- [x] **학생 관리 Admin**
  - [x] StudentAdmin 클래스 구현
  - [x] 목록 화면 설정 (list_display, list_filter, search_fields)
  - [x] 상세 화면 설정 (fieldsets)
  - [x] 벌크 액션 추가 (재원생/퇴원생 변경)
  - [x] 생성자/수정자 자동 설정

- [x] **사물함 관리 Admin**
  - [x] LockerAdmin 클래스 구현
  - [x] LockerHistoryAdmin 클래스 구현
  - [x] 사물함 해제 액션 추가
  - [x] 사용 기간 표시

- [x] **계정 관리 Admin**
  - [x] UserProfileAdmin 클래스 구현
  - [x] ActivityLogAdmin 클래스 구현 (읽기 전용)
  - [x] User 모델 확장 (UserProfile 인라인)
  - [x] 역할별 권한 표시

- [x] **대시보드 Admin**
  - [x] DashboardStatsAdmin 클래스 구현
  - [x] SystemSettingsAdmin 클래스 구현
  - [x] AnnouncementAdmin 클래스 구현
  - [x] 통계 재생성 액션 추가

### 4.5.2 초기 데이터 설정
- [x] **기본 데이터 생성**
  - [x] 271개 사물함 데이터 자동 생성
  - [x] 관리자 계정 생성 (admin/admin123!)
  - [x] 기본 시스템 설정값 4개 생성
  - [x] UserProfile 자동 연동

- [x] **Django Management Command**
  - [x] setup_initial_data 명령어 생성
  - [x] 데이터베이스 연결 테스트
  - [x] 초기화 스크립트 실행 확인

---

## 📤 Phase 5: 데이터 이관

### 5.1 구글시트 데이터 분석
- [ ] **기존 데이터 구조 파악**
  - [ ] 구글시트 컬럼 분석
  - [ ] 데이터 형식 확인
  - [ ] 누락 데이터 확인
  - [ ] 중복 데이터 확인

### 5.2 데이터 정제 및 변환
- [ ] **데이터 정제 스크립트**
  - [ ] 휴대폰번호 형식 통일
  - [ ] 학교명 표준화
  - [ ] 날짜 형식 변환
  - [ ] 빈 값 처리

### 5.3 일괄 이관 시스템
- [ ] **이관 스크립트 개발**
  - [ ] CSV/Excel 파일 파싱
  - [ ] 데이터 검증 로직
  - [ ] 등원번호 자동 생성
  - [ ] 사물함 자동 배정
  - [ ] 이관 결과 리포트

- [ ] **이관 실행**
  - [ ] 테스트 환경에서 이관 테스트
  - [ ] 실제 데이터 이관 실행
  - [ ] 이관 결과 검증

---

## 🧪 Phase 6: 테스트

### 6.1 백엔드 테스트
- [ ] **단위 테스트**
  - [ ] 모델 테스트 (학생, 사물함)
  - [ ] API 테스트 (CRUD, 검색, 필터링)
  - [ ] 등원번호 생성 로직 테스트
  - [ ] 사물함 배정 로직 테스트

- [ ] **통합 테스트**
  - [ ] API 엔드포인트 테스트
  - [ ] 데이터베이스 연동 테스트
  - [ ] 인증/권한 테스트

### 6.2 프론트엔드 테스트
- [ ] **컴포넌트 테스트**
  - [ ] 폼 입력 검증 테스트
  - [ ] 검색/필터링 테스트
  - [ ] 페이지네이션 테스트

- [ ] **E2E 테스트**
  - [ ] 학생 등록 플로우
  - [ ] 학생 검색 플로우
  - [ ] 사물함 관리 플로우

### 6.3 사용자 테스트
- [ ] **관리자 사용자 테스트**
  - [ ] 실제 관리자 4~5명과 테스트
  - [ ] 피드백 수집 및 개선
  - [ ] 사용성 평가

---

## 🚀 Phase 7: 배포 및 운영

### 7.1 서버 환경 구축
- [ ] **호스팅 선택 및 설정**
  - [ ] 네이버 클라우드 또는 AWS 선택
  - [ ] 서버 인스턴스 생성 (최소 2GB RAM)
  - [ ] PostgreSQL 데이터베이스 설정
  - [ ] Redis 서버 설정

- [ ] **배포 환경 설정**
  - [ ] Nginx 웹서버 설정
  - [ ] Gunicorn/uWSGI Django 서버 설정
  - [ ] SSL 인증서 설정 (Let's Encrypt)
  - [ ] 방화벽 설정

### 7.2 CI/CD 파이프라인
- [ ] **GitHub Actions 설정**
  - [ ] 자동 테스트 실행
  - [ ] 배포 자동화
  - [ ] 환경별 배포 설정

### 7.3 모니터링 및 로깅
- [ ] **기본 모니터링**
  - [ ] Django 로깅 설정
  - [ ] 에러 추적 (Sentry 고려)
  - [ ] 성능 모니터링

### 7.4 백업 시스템
- [ ] **자동 백업 설정**
  - [ ] PostgreSQL 일일 백업
  - [ ] 백업 파일 보관 (30일)
  - [ ] 복구 테스트 절차

---

## 📋 Phase 8: 문서화 및 교육

### 8.1 사용자 매뉴얼
- [ ] **관리자용 매뉴얼**
  - [ ] 시스템 접근 방법
  - [ ] 학생 등록 가이드
  - [ ] 검색 및 조회 가이드
  - [ ] 사물함 관리 가이드
  - [ ] 문제 해결 가이드

### 8.2 기술 문서
- [ ] **개발자 문서**
  - [ ] API 문서 (Swagger/OpenAPI)
  - [ ] 데이터베이스 스키마 문서
  - [ ] 배포 가이드
  - [ ] 장애 대응 매뉴얼

### 8.3 교육 및 온보딩
- [ ] **관리자 교육**
  - [ ] 시스템 사용법 교육
  - [ ] Q&A 세션
  - [ ] 지속적인 지원 체계

---

## ✅ 완료 검증 체크리스트

### MVP 완료 조건
- [ ] **기능 검증**
  - [ ] 모든 필수 필드로 학생 등록 가능
  - [ ] 다양한 조건으로 학생 검색 가능
  - [ ] 사물함 자동 배정/해제 시스템 정상 동작
  - [ ] 등원번호 중복 방지 시스템 정상 동작
  - [ ] 구글시트 데이터 100% 이관 완료

- [ ] **성능 검증**
  - [ ] 검색/조회 2초 이내 응답
  - [ ] 등록/수정 3초 이내 응답
  - [ ] 대시보드 5초 이내 로딩
  - [ ] 관리자 10명 동시 사용 안정성 확보

- [ ] **사용자 승인**
  - [ ] 관리자 최종 검수 완료
  - [ ] 사용자 만족도 80% 이상
  - [ ] 운영 매뉴얼 승인

---

## 🎯 Learning Keywords

**Difficulty: Mid**  
**Learning Keywords**: Django REST Framework, Vue.js, Nuxt.js, PostgreSQL, Redis, JWT Authentication, Django Channels, API Design, Database Modeling, CRUD Operations, 학생정보관리시스템, 관리형독서실

---

---

## 📈 **현재 진행 상황 요약 (2024년 12월 19일 기준)**

### ✅ **완료된 Phase**
- **Phase 1**: 프로젝트 기반 구축 (100% 완료)
- **Phase 2**: 데이터베이스 모델 설계 (100% 완료)  
- **Phase 3**: 백엔드 API 개발 (100% 완료) ✨
- **Phase 4.5**: Django Admin 및 초기 데이터 설정 (100% 완료)

### 🚧 **다음 단계**
- **Phase 4**: 프론트엔드 개발 (준비 완료)
- **Phase 5**: 데이터 이관 (구글시트 → PostgreSQL)

### 📊 **전체 진행률**
- **완료**: 약 60% (기반 인프라 + 데이터 모델 + API 완성)
- **다음 단계**: Vue.js/Nuxt.js 프론트엔드 개발 또는 데이터 이관

### 🎯 **현재 시스템 상태**
- ✅ PostgreSQL 데이터베이스 연결 완료
- ✅ 271개 사물함 데이터 생성 완료
- ✅ 8명 샘플 학생 데이터 생성 완료
- ✅ 관리자 계정 설정 완료 (admin/admin123!)
- ✅ Django Admin 완전 구성 완료
- ✅ 모든 모델 Admin 등록 및 커스터마이징 완료
- ✅ **REST API 완전 구현 완료** 🎆
- ✅ **JWT 인증 시스템 구현 완료**
- ✅ **API 문서화 완료** (Swagger UI + ReDoc)
- 🔗 **접속 가능**:
  - Django Admin: http://127.0.0.1:8000/admin/
  - API 문서: http://127.0.0.1:8000/api/docs/
  - API 엔드포인트: http://127.0.0.1:8000/api/students/

---

**체크리스트 작성일**: 2024년 12월 19일  
**최종 업데이트**: 2024년 12월 19일 (Phase 3 API 개발 완료)  
**작성자**: AI Assistant  
**프로젝트**: 김엄마관리형독서실 학생회원관리 시스템 MVP
